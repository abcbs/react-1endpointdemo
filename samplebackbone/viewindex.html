<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Backbone.js Todos</title>
  <link rel="stylesheet" href="todos.css"/>
</head>

<body>

<div id="search_container"></div>
<script type="text/template" id="search_template">
  <label><%=search_label %></label>
  <input type="text" id="search_input"/>
  <input type="button" id="search_button" value="Search"/>
</script>

</body>
<script src="/build/jquery-2.2.2.js"></script>
<script src="//cdn.jsdelivr.net/lodash/2.4.1/lodash.min.js"></script>
<script src="/build/backbone-1.3.3/backbone.js"></script>
<script>
  (function ($) {
    SearchView=Backbone.View.extend({
      //这个属性用来引用DOM中的一些元素，每一个Backbone的view都会有这么个属性，
      //如果没有显示声明，Backbone会默认的构造一个，表示一个空的div元素
      initialize:function(){
        console.log('init a SearchView');
        this.render('the5fire');
      },
      render:function(search_label){
        //使用underscore这个库，来编译模板
        var template=_.template($("#search_template").html(),{search_label:search_label});
      //加载模板到对应的$el属性中,$el是backbone中提供的函数
        this.$el.html(template);
      },
      events:{//绑定事件
        'click input[type=button]':'doSearch'//定义类型为button的input标签的点击事件，触发函数doSearch
      },
      doSearch:function(event){
        alert("search for "+$("#search_input").val());
      }
    });
    //var searchView=new SearchView();
    var searchView=new SearchView({el:$("#search_container")});
    //searchView.render();//这个reander的方法可以放到view的构造函数中
  })(jQuery);
</script>
</html>
